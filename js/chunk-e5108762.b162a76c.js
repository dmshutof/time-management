(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5108762"],{"063c":function(e,t,s){},"167c":function(e,t,s){"use strict";s("063c")},4976:function(e,t,s){"use strict";s("9f61")},"9f61":function(e,t,s){},ed81:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Table",{attrs:{"all-users":e.AllUsers},scopedSlots:e._u([{key:"form",fn:function(){return[s("UserForm",{attrs:{"all-users":e.AllUsers}})]},proxy:!0},{key:"tableString",fn:function(e){return[s("TableString",{attrs:{user:e.user}})]}}])})},i=[],a=s("0748"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("div",{staticClass:"input"},[e._m(0),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"main_input",class:{error:e.$v.email.$error},attrs:{id:"email",placeholder:"Email",type:"text"},domProps:{value:e.$v.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.email,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.email.$dirty&&!e.$v.email.required?s("div",{staticClass:"input_description"},[e._v("Поле обязательно для заполнения ")]):e._e(),e.$v.email.email?e._e():s("div",{staticClass:"input_description"},[e._v("Некорректный Email")]),e.$v.email.unique?e._e():s("div",{staticClass:"input_description"},[e._v("Пользователь с таким Email уже существует")])]),s("div",{staticClass:"input"},[e._m(1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.surname.$model,expression:"$v.surname.$model",modifiers:{trim:!0}}],staticClass:"main_input",class:{error:e.$v.surname.$error},attrs:{id:"surname",placeholder:"Фамилия",type:"text"},domProps:{value:e.$v.surname.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.surname,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.surname.$dirty&&!e.$v.surname.required?s("div",{staticClass:"input_description"},[e._v("Поле обязательно для заполнения ")]):e._e()]),s("div",{staticClass:"input"},[e._m(2),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0}}],staticClass:"main_input",class:{error:e.$v.name.$error},attrs:{id:"name",placeholder:"Имя",type:"text"},domProps:{value:e.$v.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.name,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.name.$dirty&&!e.$v.name.required?s("div",{staticClass:"input_description"},[e._v("Поле обязательно для заполнения ")]):e._e()]),s("div",{staticClass:"input"},[s("label",{attrs:{for:"patronymic"}},[e._v("Введите Отчество")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.patronymic,expression:"patronymic",modifiers:{trim:!0}}],staticClass:"main_input",attrs:{id:"patronymic",placeholder:"Отчество",type:"text"},domProps:{value:e.patronymic},on:{input:function(t){t.target.composing||(e.patronymic=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"form_buttons"},[s("button",{staticClass:"main_button",attrs:{disabled:"PENDING"===e.submitStatus,type:"submit"}},[""===e.submitStatus?s("span",{domProps:{textContent:e._s("ADD"===e.$store.state.isShowUserForm.type?"Добавить":"Изменить")}}):e._e(),"PENDING"===e.submitStatus?s("span",{domProps:{textContent:e._s("ADD"===e.$store.state.isShowUserForm.type?"Добавление...":"Изменение...")}}):e._e(),"OK"===e.submitStatus?s("span",{domProps:{textContent:e._s("ADD"===e.$store.state.isShowUserForm.type?"Добавлен!":"Изменен!")}}):e._e(),"ERROR"===e.submitStatus?s("span",[e._v("Ошибка")]):e._e()]),s("div",{staticClass:"main_button gray_theme",on:{click:e.formCancel}},[e._v("Отмена")])])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"email"}},[e._v("Введите Email"),s("sup",[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"surname"}},[e._v("Введите Фамилию"),s("sup",[e._v("*")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"name"}},[e._v("Введите Имя"),s("sup",[e._v("*")])])}],m=s("5530"),u=(s("7db0"),s("d3b7"),s("b0c0"),s("2f62")),l=s("b5ae"),c={name:"UserForm",props:{allUsers:[Array,Object]},data:function(){return{name:"",surname:"",patronymic:"",email:"",submitStatus:"",editableUser:{},colors:["#ff4444","#ffbb33","#00C851","#33b5e5","#aa66cc","#4B515D","#3F729B","#2BBBAD","#4285F4"]}},mounted:function(){var e=this.$store.state;if("EDIT"===e.isShowUserForm.type){var t=this.$props.allUsers.find((function(t){return t.id===e.isShowUserForm.editUserId}));this.editableUser=t,this.name=t.name,this.surname=t.surname,this.patronymic=t.patronymic,this.email=t.email}},validations:{name:{required:l["required"]},surname:{required:l["required"]},email:{email:l["email"],required:l["required"],unique:function(e){var t=this.$store.state;if("EDIT"===t.isShowUserForm.type&&this.editableUser.email===e)return!0;if(0===e.length)return!0;var s=this.$props.allUsers.find((function(t){return t.email===e}));return Boolean(!s)}}},methods:Object(m["a"])(Object(m["a"])({},Object(u["d"])(["createUser","editUser"])),{},{submit:function(){var e=this;this.$v.$touch(),this.$v.$invalid?(this.submitStatus="ERROR",setTimeout((function(){e.submitStatus=""}),3e3)):(this.submitStatus="PENDING",setTimeout((function(){e.submitStatus="OK",setTimeout((function(){"ADD"===e.$store.state.isShowUserForm.type?e.createUser({id:"id"+(e.$store.state.users.length+1),name:e.name,surname:e.surname,patronymic:e.patronymic,email:e.email,projects:[],color:e.colors[Math.floor(Math.random()*e.colors.length)]}):e.editUser({id:e.$store.state.isShowUserForm.editUserId,name:e.name,surname:e.surname,patronymic:e.patronymic,email:e.email}),e.formCancel()}),1e3)}),3e3))},formCancel:function(){this.name="",this.surname="",this.patronymic="",this.email="",this.submitStatus="",this.$store.commit("ShowUserFormSwitcher",{isShow:!1,type:"ADD"})}})},d=c,p=(s("167c"),s("2877")),v=Object(p["a"])(d,n,o,!1,null,"ed692694",null),f=v.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table_body__item"},[s("router-link",{staticClass:"user",attrs:{to:"/user/"+e.user.id}},[s("div",{staticClass:"icon",style:"background:"+e.user.color},[e._v(" "+e._s(e.user.surname.split("")[0])+" ")]),s("p",[e._v(e._s(e.user.surname)+" "+e._s(e.user.name)+" "+e._s(e.user.patronymic))])]),s("div",{staticClass:"edit_buttons"},[s("span",{on:{click:function(t){return e.$store.commit("ShowUserFormSwitcher",{isShow:!0,type:"EDIT",editUserId:e.user.id})}}},[e._v("Редактировать")]),s("span",{on:{click:e.onDelete}},[e._v("Удалить")])])],1)},_=[],b={name:"TableString",props:{user:Object},methods:Object(m["a"])(Object(m["a"])({},Object(u["d"])(["deleteUser"])),{},{onDelete:function(){this.deleteUser(this.$props.user.id)}})},h=b,y=(s("4976"),Object(p["a"])(h,$,_,!1,null,"3c838f04",null)),U=y.exports,S={name:"Users",components:{Table:a["a"],UserForm:f,TableString:U},computed:Object(u["c"])(["AllUsers"])},C=S,w=Object(p["a"])(C,r,i,!1,null,"7bf5f3e0",null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-e5108762.b162a76c.js.map